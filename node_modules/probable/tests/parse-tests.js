var test = require('tape');
var createProbable = require('../probable').createProbable;
var seedrandom = require('seedrandom');


test('Parse table def', function parseTableDef(t) {
  var probable = createProbable({
    random: seedrandom('parseTableDef')
  });

  var table = probable.createTableFromDef({
    '0': 'Nothing',
    '1-2': 'Poison gas',
    '3': 'Ruby',
    '4': 'Bedbugs',
    '5-7': 'Bag of gold'
  });

  t.equal(table.length, 8, 'Length is correct.');
  t.deepEqual(
    table.getRangesAndOutcomesArray(),
    [
      [[0, 0], 'Nothing'],
      [[3, 3], 'Ruby'],
      [[4, 4], 'Bedbugs'],
      [[1, 2], 'Poison gas'],
      [[5, 7], 'Bag of gold']
    ],
    'Internal table correctly deals with single number ranges.'
  );
  t.end();
});
